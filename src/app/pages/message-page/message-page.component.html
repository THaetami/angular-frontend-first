<app-sidebar></app-sidebar>
<app-sidebar-auth></app-sidebar-auth>

<app-navbar class=" w-full shadow-black shadow-md" style="background: rgb(59,20,167);"></app-navbar>
<div class="p-0 ml-[3.5rem] md:ml-[3.7rem] h-screen" (click)="toggleSidebarIfOpen()">

  <div class="h-screen w-full mt-0 flex antialiased text-white bg-white overflow-hidden left-0 shadow-md">
    <div class="flex-1 flex flex-col overflow-y-auto sm:overflow-y-none">
      <main class="flex-grow flex flex-row min-h-0 ">

        <section class="flex flex-col flex-none overflow-auto w-10 sm:w-24 hover:w-64 group lg:max-w-sm md:w-2/5 transition-all duration-300 ease-in-out">
          <div class="header p-4 flex flex-row justify-between items-center flex-none">
            <p class="text-md font-bold hidden md:block text-black group-hover:block">Messenger</p>
            <span
              class="cursor-pointer rounded-full hover:bg-purple-600 bg-purple-600 w-10 h-10 p-2 hidden md:block group-hover:block">
              <svg viewBox="0 0 24 24" class="w-full h-full fill-current">
                <path
                  d="M6.3 12.3l10-10a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1 0 1.4l-10 10a1 1 0 0 1-.7.3H7a1 1 0 0 1-1-1v-4a1 1 0 0 1 .3-.7zM8 16h2.59l9-9L17 4.41l-9 9V16zm10-2a1 1 0 0 1 2 0v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h6a1 1 0 0 1 0 2H4v14h14v-6z" />
              </svg>
            </span>
          </div>
          <div class="search-box p-1 sm:p-4 flex-none">
            <form onsubmit="">
              <div class="md:relative">
                <label>
                  <input
                    class="placeholder-white rounded-full py-2 pr-2 pl-2 sm:py-3 sm:pr-6 sm:pl-10 w-full border border-gray-800 focus:border-gray-700 bg-purple-600 focus:bg-purple-600 focus:outline-none text-white focus:shadow-md transition duration-300 ease-in"
                    type="text" value="" placeholder="Search Messenger" />
                  <span class="absolute top-0 left-0 mt-2 ml-3 inline-block">
                  </span>
                </label>
              </div>
            </form>
          </div>

          <div class="contacts p-1 sm:p-2 flex-1 overflow-y-auto">

            <div *ngFor="let message of messages">
              <a [routerLink]="['/message', message.username]" [routerLinkActive]="'bg-purple-600 font-semibold text-white'" [routerLinkActiveOptions]="{ exact: true }" class="flex cursor-pointer my-2 py-2 md:my-0 justify-between items-center p-0.5 sm:p-3 hover:bg-purple-600 rounded-lg ">
                <div class="w-7 h-7 sm:w-16 sm:h-16 flex flex-shrink-0">
                  <img class="shadow-md rounded-full w-full h-full object-cover"
                    [src]="message.image" alt="" />
                </div>
                <div class="flex-auto min-w-0 ml-4 mr-6 hidden md:block group-hover:block text-black" [routerLinkActive]="'font-semibold text-white'" [routerLinkActiveOptions]="{ exact: true }" >
                  <div class="flex items-center">
                    <p>{{ message.username }}</p>
                    <svg aria-label="Sudah Diverifikasi" class="x1lliihq x1n2onr6 ml-0.5" color="rgb(0, 149, 246)" fill="rgb(0, 149, 246)"
                      height="12" role="img" viewBox="0 0 40 40" width="12">
                      <path
                        d="M19.998 3.094 14.638 0l-2.972 5.15H5.432v6.354L0 14.64 3.094 20 0 25.359l5.432 3.137v5.905h5.975L14.638 40l5.36-3.094L25.358 40l3.232-5.6h6.162v-6.01L40 25.359 36.905 20 40 14.641l-5.248-3.03v-6.46h-6.419L25.358 0l-5.36 3.094Zm7.415 11.225 2.254 2.287-11.43 11.5-6.835-6.93 2.244-2.258 4.587 4.581 9.18-9.18Z"
                        fill-rule="evenodd"></path>
                    </svg>
                  </div>
                  <div class="flex items-center text-sm ">
                    <small class="whitespace-no-wrap">{{ message.active }} Ago</small>
                  </div>
                </div>
              </a>

            </div>

          </div>
        </section>

        <section class="flex flex-col flex-auto border-l border-gray-800">
            <router-outlet></router-outlet>
        </section>
      </main>
    </div>
  </div>

</div>
